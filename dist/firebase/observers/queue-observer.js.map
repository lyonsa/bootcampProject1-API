{"version":3,"sources":["firebase/observers/queue-observer.js"],"names":["QueueObserver","constructor","db","queue","ref","games","users","state","players","creatingGame","initalized","init","getInitialState","registerListeners","once","Object","keys","on","snap","onPlayerAdded","onChildAdded","console","log","numChildren","createNewGame","player","uid","getKey","push","err","error","message","onPlayerRemoved","index","indexOf","key","shift","removeFromQueue","child","remove","uid1","uid2","user1Snap","user2Snap","user1","val","user2","online","currentGame","forEach"],"mappings":"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","file":"queue-observer.js","sourceRoot":"../../../../.."}